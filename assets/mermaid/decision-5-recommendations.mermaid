flowchart TB
    subgraph INPUTS["ðŸ“¥ CRITÃˆRES Ã‰VALUÃ‰S"]
        I1["ðŸ›¡ï¸ Niveau de sÃ©curitÃ©"]
        I2["â˜ï¸ Cloud choisi"]
    end

    subgraph ORCHESTRATION["ðŸ”„ ORCHESTRATION â€” Toujours recommandÃ©"]
        O1["GCP â†’ Cloud Composer + Dataform"]
        O2["Azure â†’ Data Factory + Synapse Pipelines"]
        O3["Autres â†’ Airflow / Dagster / Prefect"]
    end

    subgraph SECURITY_DECISION["ðŸ›¡ï¸ SÃ‰CURITÃ‰"]
        QSec1{"Niveau = Critical ?\nRGPD, HIPAA, PCI-DSS"}
        QSec2{"Niveau = High ?\nPII, donnÃ©es financiÃ¨res"}
        QSec3{"Niveau = Medium ou Basic ?"}
    end

    subgraph SEC_CRITICAL["âœ… CONFORMITÃ‰ COMPLÃˆTE"]
        SC1["Privacera"]
        SC2["Immuta"]
        SC3["Collibra"]
        SC4["Alation"]
        SC5["HashiCorp Vault"]
    end

    subgraph SEC_HIGH["âœ… SÃ‰CURITÃ‰ RENFORCÃ‰E"]
        SH1["Unity Catalog"]
        SH2["AWS Lake Formation"]
        SH3["Azure Purview"]
        SH4["Atlan"]
    end

    subgraph SEC_STANDARD["âœ… BONNES PRATIQUES"]
        SS1["IAM Policies"]
        SS2["KMS"]
        SS3["CloudTrail / Audit Logs"]
        SS4["Terraform"]
    end

    subgraph MONITORING["ðŸ“ˆ OBSERVABILITÃ‰ â€” Toujours recommandÃ©"]
        MON1["Monte Carlo"]
        MON2["Great Expectations"]
        MON3["Datadog"]
        MON4["OpenTelemetry"]
    end

    %% Orchestration
    I2 --> ORCHESTRATION

    %% Security decision
    I1 --> QSec1
    I1 --> QSec2
    I1 --> QSec3

    QSec1 -->|Oui| SEC_CRITICAL
    QSec2 -->|Oui| SEC_HIGH
    QSec3 -->|Oui| SEC_STANDARD

    %% Monitoring always
    I1 --> MONITORING
